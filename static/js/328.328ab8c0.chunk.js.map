{"version":3,"file":"static/js/328.328ab8c0.chunk.js","mappings":"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","sources":["webpack://group_project_6_final/./src/pages/UserPage/UserPage.module.css?e2e5","webpack://group_project_6_final/./src/components/UserPageComponents/UserData/UserData.module.css?b1e0","webpack://group_project_6_final/./src/components/UserPageComponents/UserDataItem/UserDataItem.module.css?c2ce","components/UserPageComponents/UserDataItem/UserDataItem.jsx","components/UserPageComponents/UserData/UserData.jsx","webpack://group_project_6_final/./src/components/LogOut/LogOut.module.css?93ff","components/LogOut/LogOut.jsx","pages/UserPage/UserPage.jsx","redux/auth/selectors.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"box\":\"UserPage_box__E7q34\",\"photo-container\":\"UserPage_photo-container__RokYL\",\"title\":\"UserPage_title__CPvgT\"};","// extracted by mini-css-extract-plugin\nexport default {\"photo\":\"UserData_photo__uE6V5\",\"edit\":\"UserData_edit__jaVRz\",\"labelPhoto\":\"UserData_labelPhoto__dXRJZ\",\"confirm\":\"UserData_confirm__hJldX\",\"inputHidden\":\"UserData_inputHidden__inphK\",\"form\":\"UserData_form__GylCX\",\"box\":\"UserData_box__W6rdZ\",\"buttonUploadHidden\":\"UserData_buttonUploadHidden__Tt76m\"};","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"UserDataItem_text__9MaBd\",\"input\":\"UserDataItem_input__+k829\",\"field\":\"UserDataItem_field__PD3Xz\",\"wrapper\":\"UserDataItem_wrapper__TkHsR\",\"input-icon\":\"UserDataItem_input-icon__iWByY\",\"buttonHidden\":\"UserDataItem_buttonHidden__tFCK4\"};","import styles from './UserDataItem.module.css';\nimport { BiEditAlt } from 'react-icons/bi';\nimport { BsCheck2 } from 'react-icons/bs';\n\nconst UserDataItem = ({\n  id,\n  value,\n  name,\n  placeholder,\n  label,\n  onChange,\n  isReadonly,\n  onClick,\n  disabled,\n}) => {\n  return (\n    <div className={styles.field}>\n      <label className={styles.text} htmlFor={id}>\n        {label}\n      </label>\n      <div className={styles.wrapper}>\n        <input\n          type=\"text\"\n          className={styles.input}\n          id={id}\n          placeholder={placeholder}\n          name={name}\n          value={value}\n          readOnly={isReadonly}\n          onChange={onChange}\n          // required={name === 'name' || name === 'birthday' ? true : false} //убрать при подключенной валидации йап\n        />\n        {isReadonly ? (\n          <button\n            type=\"button\"\n            disabled={disabled}\n            onClick={onClick}\n            name={name}\n            className={styles.buttonHidden}\n          >\n            <BiEditAlt\n              style={{\n                fill: '#54ADFF',\n                pointerEvents: 'none',\n              }}\n              size={24}\n            />\n          </button>\n        ) : (\n          <button type=\"submit\" className={styles.buttonHidden}>\n            <BsCheck2\n              color=\"#00C3AD\"\n              size={24}\n              style={{\n                pointerEvents: 'none',\n              }}\n            />\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UserDataItem;\n","import { Formik } from 'formik';\nimport userPhoto from '../../../image/user-photo-default.png';\nimport styles from './UserData.module.css';\nimport { BsCheck2 } from 'react-icons/bs';\nimport { MdOutlinePhotoCamera } from 'react-icons/md';\nimport { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectUser } from 'redux/auth/selectors';\nimport UserDataItem from '../UserDataItem/UserDataItem';\nimport { userDataValidation } from 'helpers';\nimport { updateUser } from 'redux/auth/operations';\n\n\nconst initReadOnlyValue = {\n  name: true,\n  email: true,\n  birthday: true,\n  phone: true,\n  city: true,\n};\n\nconst UserData = () => {\n  const userState = useSelector(selectUser);\n\n  const dispatch = useDispatch();\n  const [state, setState] = useState({ ...userState });\n\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isReadonly, setIsReadonly] = useState(initReadOnlyValue);\n\n  const [inputName, setInputName] = useState('');\nconsole.log(inputName);\n  const [btnEditClicked, setBtnEditClicked] = useState(false);\n  console.log(btnEditClicked);\n\n  const handleChangeInput = e => {\n    const { name, value } = e.target;\n    setState({ ...state, [name]: value });\n    setInputName(name);\n  };\n  const onClickButton = e => {\n    const { name } = e.target;\n    setIsReadonly({...isReadonly, [name]: false });\n    setBtnEditClicked(true);\n  };\n\n  const handleChangeAvatar = e => {\n    const { name } = e.target;\n    setSelectedFile(e.target.files[0]);\n    const src = window.URL.createObjectURL(e.target.files[0]);\n    setState({ ...state, [name]: src });\n    setInputName(name);\n  };\n\n  // const handleUpload = async () => {\n  //   console.log(inputName);\n  //   if (!selectedFile) {\n  //     alert('Please select file!');\n  //     return;\n  //   }\n  //   const formData = new FormData();\n  //   formData.append('avatarURL', state.avatarURL); //название файла нужно узнать у бекенда, под каким ключом он лежит\n\n  //   dispatch(updateUser({id: state._id, avatarURL: state.avatarURL}))  //сделать запрос на сервер что бы сохранить картинку там useDispatch( patch   data...)\n  // };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    // if (!inputName) {\n    //   alert('Please write something');\n    //   return;\n    // }\n    console.log({ id: state._id, [inputName]: state[inputName] }); //диспачить\n    dispatch(updateUser({ _id: state._id, [inputName]: state[inputName] }));\n    setInputName('');\n    setIsReadonly(initReadOnlyValue);\n    setBtnEditClicked(false);\n  };\n\n  // Виктория, [26.05.2023 11:50]\n  return (\n    <Formik validationSchema={userDataValidation}>\n      <form onSubmit={handleSubmit} className={styles.box} autoComplete=\"off\">\n        <div className=\"photo-container\">\n          <img\n            className={styles.photo}\n            src={state.avatarURL ? state.avatarURL : userPhoto}\n            alt=\"user\"\n            width={182}\n            height={182}\n          />\n          <div className={styles.edit}>\n            {selectedFile ? (\n              <button\n                type=\"submit\"\n                className={styles.buttonUploadHidden}\n                // onClick={handleUpload}\n              >\n                <BsCheck2\n                  size={24}\n                  color=\"#54ADFF\"\n                  style={{ pointerEvents: 'none' }}\n                />\n              </button>\n            ) : (\n              <MdOutlinePhotoCamera size={24} color=\"#54ADFF\" />\n            )}\n            <div className={styles.container}>\n              {selectedFile ? (\n                <p className={styles.confirm}>Confirm</p>\n              ) : (\n                <>\n                  <input\n                    type=\"file\"\n                    id=\"file\"\n                    name=\"avatarURL\"\n                    className={styles.inputHidden}\n                    onChange={handleChangeAvatar}\n                    accept=\"image/png, image/jpeg\"\n                    disabled={btnEditClicked ? true : false}\n                  />\n                  <label className={styles.labelPhoto} htmlFor=\"file\">\n                    Edit Photo\n                  </label>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className={styles.form}>\n          <UserDataItem\n            id={'user_name'}\n            value={state.name}\n            placeholder={'Anna |'}\n            name={'name'}\n            label={'Name:'}\n            onChange={handleChangeInput}\n            isReadonly={isReadonly.name}\n            onClick={onClickButton}\n            disabled={btnEditClicked ? true : false}\n          />\n          <UserDataItem\n            id={'user_email'}\n            value={state.email || ''}\n            placeholder={'anna00@gmail.com|'}\n            name={'email'}\n            label={'Email:'}\n            onChange={handleChangeInput}\n            isReadonly={isReadonly.email}\n            onClick={onClickButton}\n            disabled={btnEditClicked ? true : false}\n          />\n          <UserDataItem\n            id={'user_birthday'}\n            value={state.birthday}\n            placeholder={'00.00.0000'}\n            name={'birthday'}\n            label={'Birthday:'}\n            onChange={handleChangeInput}\n            isReadonly={isReadonly.birthday}\n            onClick={onClickButton}\n            disabled={btnEditClicked ? true : false}\n          />\n          <UserDataItem\n            id={'user_phone'}\n            value={state.phone}\n            placeholder={'+38000000000'}\n            name={'phone'}\n            label={'Phone:'}\n            onChange={handleChangeInput}\n            isReadonly={isReadonly.phone}\n            onClick={onClickButton}\n            disabled={btnEditClicked ? true : false}\n          />\n          <UserDataItem\n            id={'user_city'}\n            value={state.city}\n            placeholder={'Kiev'}\n            name={'city'}\n            label={'City:'}\n            onChange={handleChangeInput}\n            isReadonly={isReadonly.city}\n            onClick={onClickButton}\n            disabled={btnEditClicked ? true : false}\n          />\n        </div>\n      </form>\n    </Formik>\n  );\n};\n\nexport default UserData;\n","// extracted by mini-css-extract-plugin\nexport default {\"logout\":\"LogOut_logout__ODqAK\",\"button\":\"LogOut_button__87t-9\"};","import { CiLogout } from 'react-icons/ci';\nimport { useDispatch } from 'react-redux';\nimport { logOut } from 'redux/auth/operations';\nimport styles from './LogOut.module.css'\n\nconst LogOut = () => {\n  const dispatch = useDispatch();\n\n    return (\n      <div className={styles.logout}>\n        <CiLogout size={24} fill=\"#54ADFF\" />\n        <button type=\"button\" className={styles.button} onClick={()=> dispatch(logOut()) }>\n          Log Out\n        </button>\n      </div>\n    );\n}\n\nexport default LogOut;","import styles from './UserPage.module.css'\nimport UserData from \"components/UserPageComponents/UserData/UserData\";\nimport LogOut from \"components/LogOut/LogOut\";\nimport { getUserInfo } from 'redux/auth/operations';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n// import { userStateValues } from 'redux/user/selectors';\n\nconst UserPage = () => {\n   const dispatch = useDispatch();\n  useEffect(() => {\n     dispatch(getUserInfo());\n   }, [dispatch]);\n  \n  return (\n    <>\n      <h2 className={styles.title}>My information:</h2>\n      <div className={styles.box}>\n        <UserData />\n        <LogOut />\n      </div>\n    </>\n  );\n}\n\nexport default UserPage;","export const selectAuth = state => {\n  const { isLoggedIn, token } = state.auth;\n  return { isLoggedIn, token };\n};\n\nexport const selectIsLoggedIn = state => state.auth.isLoggedIn;\n\nexport const selectUser = state => state.auth.user;\n\nexport const selectIsRefreshing = state => state.auth.isRefreshing;\n\nexport const selectIsLoading = state => state.auth.isLoading;\n\nexport const selectError = state => state.auth.error;\n\nexport const selectToken = state => state.auth.token;\n"],"names":["id","value","name","placeholder","label","onChange","isReadonly","onClick","disabled","className","styles","htmlFor","type","readOnly","style","fill","pointerEvents","size","color","initReadOnlyValue","email","birthday","phone","city","userState","useSelector","selectUser","dispatch","useDispatch","useState","state","setState","selectedFile","setSelectedFile","setIsReadonly","inputName","setInputName","console","log","btnEditClicked","setBtnEditClicked","handleChangeInput","e","target","onClickButton","validationSchema","userDataValidation","onSubmit","preventDefault","_id","updateUser","autoComplete","src","avatarURL","alt","width","height","files","window","URL","createObjectURL","accept","logOut","useEffect","getUserInfo","selectAuth","auth","isLoggedIn","token","selectIsLoggedIn","user","selectIsLoading","isLoading","selectError","error"],"sourceRoot":""}