{"ast":null,"code":"import axios from \"axios\";\nimport { createAsyncThunk } from '@reduxjs/toolkit';\naxios.defaults.baseURL = 'https://pets-rest-api.onrender.com/';\n\nconst setAuthHeader = token => {\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\nexport const register = createAsyncThunk(\"auth/register\", async (credentials, thunkAPI) => {\n  try {\n    const response = await axios.post('/users/signup', credentials);\n    setAuthHeader(response.data.token);\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.messsage);\n  }\n});\nexport const login = createAsyncThunk('auth/login', async (credentials, thunkAPI) => {\n  try {\n    const response = await axios.post('/users/login', credentials);\n    setAuthHeader(response.data.token);\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});","map":{"version":3,"sources":["C:/Users/Comp/Desktop/GOIT/HW-01/react/group_project_6_final/src/redux/auth/operations.js"],"names":["axios","createAsyncThunk","defaults","baseURL","setAuthHeader","token","headers","common","Authorization","register","credentials","thunkAPI","response","post","data","error","rejectWithValue","messsage","login","message"],"mappings":"AAAA,OAAQA,KAAR,MAAoB,OAApB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AAGAD,KAAK,CAACE,QAAN,CAAeC,OAAf,GAAyB,qCAAzB;;AAGA,MAAMC,aAAa,GAAGC,KAAK,IAAI;AAC3BL,EAAAA,KAAK,CAACE,QAAN,CAAeI,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA+C,UAASH,KAAM,EAA9D;AACH,CAFD;;AAMA,OAAO,MAAMI,QAAQ,GAAGR,gBAAgB,CACpC,eADoC,EAEpC,OAAOS,WAAP,EAAoBC,QAApB,KAAiC;AAC7B,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAW,eAAX,EAA4BH,WAA5B,CAAvB;AACAN,IAAAA,aAAa,CAACQ,QAAQ,CAACE,IAAT,CAAcT,KAAf,CAAb;AACA,WAAOO,QAAQ,CAACE,IAAhB;AACH,GAJD,CAIE,OAAOC,KAAP,EAAc;AACZ,WAAOJ,QAAQ,CAACK,eAAT,CAAyBD,KAAK,CAACE,QAA/B,CAAP;AACH;AACJ,CAVmC,CAAjC;AAaP,OAAO,MAAMC,KAAK,GAAGjB,gBAAgB,CAAC,YAAD,EAAe,OAAOS,WAAP,EAAoBC,QAApB,KAAiC;AACjF,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAW,cAAX,EAA2BH,WAA3B,CAAvB;AACAN,IAAAA,aAAa,CAACQ,QAAQ,CAACE,IAAT,CAAcT,KAAf,CAAb;AACA,WAAOO,QAAQ,CAACE,IAAhB;AACH,GAJD,CAIE,OAAOC,KAAP,EAAc;AACZ,WAAOJ,QAAQ,CAACK,eAAT,CAAyBD,KAAK,CAACI,OAA/B,CAAP;AACH;AACJ,CARoC,CAA9B","sourcesContent":["import  axios  from \"axios\"\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\n\r\naxios.defaults.baseURL = 'https://pets-rest-api.onrender.com/'\r\n\r\n\r\nconst setAuthHeader = token => { \r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`\r\n}\r\n\r\n\r\n\r\nexport const register = createAsyncThunk(\r\n    \"auth/register\", \r\n    async (credentials, thunkAPI) => { \r\n        try {\r\n            const response = await axios.post('/users/signup', credentials)\r\n            setAuthHeader(response.data.token)\r\n            return response.data\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.messsage)\r\n        }\r\n    }\r\n)\r\n\r\nexport const login = createAsyncThunk('auth/login', async (credentials, thunkAPI) => {\r\n    try {\r\n        const response = await axios.post('/users/login', credentials);\r\n        setAuthHeader(response.data.token);\r\n        return response.data\r\n    } catch (error) {\r\n        return thunkAPI.rejectWithValue(error.message);\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}